import java.util.*;

class Input {

    public static int number(String str, String reg) {
        boolean isNotValid = true;
        int number = 0;
        Scanner sc = new Scanner(System.in);
        while (isNotValid) {
            System.out.print(str);
            String inputStr = sc.nextLine();
            if (inputStr.matches(reg)) {
                number = Integer.parseInt(inputStr);
                isNotValid = false;
            }
            if(isNotValid) ShowMenu.Error();
        }
        return number;
    }

    public static String text(String str, String reg) {
        boolean isNotValid = true;
        String inputStr = "";
        Scanner sc = new Scanner(System.in);
        while (isNotValid) {
            System.out.print(str);
            inputStr = sc.nextLine();
            if (inputStr.matches(reg)) {
                isNotValid = false;
            }
            if(isNotValid) ShowMenu.Error();
        }
        return inputStr;
    }
}
class ShowMenu {

    public static void studentList(Student student[]){
        for(int i = 0 ; i < student.length; ++i){
            System.out.println((i+1)+". " + student[i].idNum + " " + student[i].name);
        }
    }

    public static void eachScore(Student student[], int idx){
        System.out.println(" ÇÐ¹ø   ÀÌ¸§   ±¹¾î  ¿µ¾î  ¼öÇÐ  ÃÑÁ¡  Æò±Õ  ¼®Â÷ ");
        ShowMenu.Line();
        System.out.print(student[idx].getInfo() + " ");
        for(int point : student[idx].score)
            System.out.printf("%3d  ", point);
        System.out.printf("  %3d ", student[idx].getSum());
        System.out.printf(" %5.2f ", student[idx].getAvg());
        System.out.printf(" %d", student[idx].getStudentRank(student));
        System.out.println();
    }

    public static void subjectScore(Student student[], int idx){
        --idx;
        System.out.print(" ÇÐ¹ø   ÀÌ¸§   ");
        String subject[] = {"±¹¾î", "¿µ¾î", "¼öÇÐ"};
        System.out.println(subject[idx] + " ¼®Â÷");
        for(int i = 0 ; i < student.length; ++i){
            System.out.print(student[i].getInfo() + " ");
            System.out.printf("%3d  ", student[i].score[idx]);
            System.out.printf(" %d", student[i].getSubjectRank(student,idx));
            System.out.println();
        }
    }

    public static void AllScore(Student student[]){
        System.out.println(" ÇÐ¹ø   ÀÌ¸§   ±¹¾î  ¿µ¾î  ¼öÇÐ  ÃÑÁ¡  Æò±Õ  ¼®Â÷ ");
        ShowMenu.Line();
        for(int i = 0 ; i < student.length; ++i){
            System.out.print(student[i].getInfo() + " ");
            for(int point : student[i].score)
                System.out.printf("%3d  ", point);
            System.out.printf("  %3d ", student[i].getSum());
            System.out.printf(" %5.2f ", student[i].getAvg());
            System.out.printf(" %d", student[i].getStudentRank(student));
            System.out.println();
        }
    }

    public static void Line(){
        System.out.println("================================================");
        return;
    }

    public static void Error(){
        System.out.println("Àß¸øµÈ ÀÔ·ÂÀÔ´Ï´Ù. ´Ù½Ã ÀÔ·ÂÇØÁÖ¼¼¿ä.");
        return;
    }
    public static void Main(){
        ShowMenu.Line();
        System.out.println("¸Þ´º¸¦ ¼±ÅÃÇØÁÖ¼¼¿ä.");
        System.out.println("1. ÀüÃ¼ ¼ºÀûÇ¥.");
        System.out.println("2. ÇÐ»ýº° ¼ºÀûÇ¥.");
        System.out.println("3. °ú¸ñº° ¼ºÀûÇ¥.");
        System.out.println("4. Á¾·á.");
        ShowMenu.Line();
        return;
    }

}

class Student{
    String name;
    int idNum;
    int score[] = new int[3];

    public String getInfo(){
        return idNum + " " + name + " ";
    }

    public void printScore(){
        for(int i = 0 ; i < score.length; ++i){
            System.out.print(score[i] + " ");
        }
    }

    public int getSum(){
        int sum = 0;
        for(int point : score){
            sum += point;
        }
        return sum;
    }

    public double getAvg(){
        double avg = 0;
        for(int point : score){
            avg += point;
        }
        return avg / 3;
    }

    public int getStudentRank(Student student[]){
        int rank = 1;
        for(int i = 0 ; i < student.length; ++i){
            if(this.getSum() < student[i].getSum()) ++rank;
        }
        return rank;
    }

    public int getSubjectRank(Student student[], int idx){
        int rank = 1;
        for(int i = 0 ; i < student.length; ++i){
            if(this.score[idx] < student[i].score[idx]) ++rank;
        }
        return rank;
    }
}

public class Eeeee {

    public static void main(String args[]){

        boolean isNotValid = true, sysOff = false;
        Scanner sc = new Scanner(System.in);
        //1. ÇÐ»ý ¼ö ÀÔ·Â. ref) 1 <= man <= 10
        int man = 0;
        while (true){
            man = Input.number("ÇÐ»ý ¼ö¸¦ ÀÔ·ÂÇØÁÖ¼¼¿ä. : ", "[0-9]+");
            if(man > 0 && man < 101 ) break;
            else ShowMenu.Error();
        }

        Student students[] = new Student[man]; // ÇÐ»ý class ¹è¿­À» »ý¼º
        for(int i = 0 ; i < man; ++i){//ÇÐ»ý class¸¦ »ý¼º
            students[i] = new Student();
        }

        for(int i = 0 ; i < man; ++i){
            // ÇÐ»ý º° Á¤º¸ ÀÔ·Â ½ÃÀÛ //
            // 1. ÇÐ¹ø ÀÔ·Â ref) 6ÀÚ¸® ¼ýÀÚ ÇÊ¼öÀÔ·Â
            int idNum = Input.number("ÇÐ¹øÀ» ÀÔ·ÂÇØ ÁÖ¼¼¿ä (6ÀÚ¸® ¼ýÀÚ) : ", "[0-9]{6}");
            students[i].idNum = idNum;
            // 2. ÀÌ¸§ ÀÔ·Â ref) ÇÑ±Û ÃÖ´ë 10ÀÚ (ÇÊ¼ö)
            String name = Input.text("ÀÌ¸§À» ÀÔ·ÂÇØ ÁÖ¼¼¿ä (ÇÑ±Û ÃÖ´ë 10ÀÚ) : ", "[°¡-ÆR]{2,10}");
            students[i].name = name;
            // 3. °ú¸ñ º° ¼ºÀû ÀÔ·Â ref) ±âº»°ª 0
            while (true){
                int idx = Input.number("°ú¸ñÀ» ÀÔ·ÂÇØ ÁÖ¼¼¿ä. 1.±¹¾î 2.¼öÇÐ 3.¿µ¾î 4. Á¾·á : ","[0-9]+");
                if(idx > 0 && idx < 4) {// 1~3¹ø ¸Þ´º¸¦ °í¸¥ °æ¿ì
                    int score = Input.number("Á¡¼ö¸¦ ÀÔ·ÂÇØ ÁÖ¼¼¿ä. : ", "[0-9]+");
                    if(score >= 0 && score <= 100){
                        students[i].score[idx-1] = score;
                    }
                }
                else if(idx == 4) break;
                else ShowMenu.Error();
            }
        }// ÇÐ»ý º° Á¤º¸ ÀÔ·Â END
        while (true){
            // 1.ÀüÃ¼ ¼ºÀûÇ¥ 2. ÇÐ»ýº° ¼ºÀûÇ¥ 3. °ú¸ñº° ¼ºÀûÇ¥ 4. Á¾·á.
            ShowMenu.Main();
            int idx = Input.number("", "[0-9]+");
            if(idx > 0 && idx < 4) {// 1~3¹ø ¸Þ´º¸¦ °í¸¥ °æ¿ì
                switch (idx){
                    case 1 :
                        ShowMenu.AllScore(students);
                        break;
                    case 2 :
                        ShowMenu.studentList(students);
                        while (true){
                            int studentNum = Input.number("Ãâ·ÂÀ» ¿øÇÏ´Â ÇÐ»ý ¹øÈ£¸¦ ÀÔ·ÂÇØÁÖ¼¼¿ä : ", "[0-9]+");
                            if(studentNum > 0 && studentNum <= man){
                                ShowMenu.eachScore(students,studentNum - 1);
                                break;
                            }
                            else ShowMenu.Error();
                        }
                        break;
                    case 3 :
                        int subject = Input.number("°ú¸ñÀ» ÀÔ·ÂÇØ ÁÖ¼¼¿ä. 1.±¹¾î 2.¼öÇÐ 3.¿µ¾î : ","[0-9]+");
                        if(subject > 0 && subject < 4){
                            ShowMenu.subjectScore(students, subject);
                        }
                        break;
                }
            }
            else if(idx == 4) break;
            else ShowMenu.Error();
        }
    }
}
